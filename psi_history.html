<!-- PSI History Module Fragment -->
<section id="view-history" class="view-section">

    <div class="history-header">
        <div class="header-left">
            <h2 id="history-title">年度 PSI 歷史數據</h2>
            <div id="history-product-info" class="subtitle">
                <!-- Product Name -->
            </div>
        </div>
        <div class="history-controls">
            <div class="year-selector">
                <button id="btn-prev-year" class="btn-icon">&lt;</button>
                <span id="display-year">2026</span>
                <button id="btn-next-year" class="btn-icon">&gt;</button>
            </div>
            <button id="btn-back-from-history" class="btn-secondary">返回列表</button>
        </div>
    </div>

    <div class="history-content">
        <!-- Horizontal Grid for 12 months -->
        <div id="history-grid" class="psi-grid history-grid-layout">
            <!-- Populated by JS -->
        </div>
        <div id="history-empty" style="display:none; text-align:center; padding:3rem; color:#888;">
            此年度無數據
        </div>
    </div>

    <div class="chart-container"
        style="margin-top: 2rem; background: var(--card-bg); padding: 1.5rem; border-radius: 8px; box-shadow: var(--shadow-subtle);">
        <canvas id="history-chart"></canvas>
    </div>

</section>